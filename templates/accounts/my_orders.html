{% extends 'base.html' %}
{% block content %}
<section class="ps-dash-wrap">
    {% include 'includes/alerts.html' %}
    <div class="container">
        <div class="row">
            {% include 'includes/dashboard_sidebar.html' %}

            <main class="col-md-9">
                <article class="card ps-dash-card">
                    <!-- HEADER -->
                    <header class="card-header ps-dash-header">
                        <h5 class="ps-dash-title">Your Order History</h5>
                    </header>

                    <!-- BODY -->
                    <div class="card-body ps-dash-body">
                        <div class="table-responsive">
                            <table class="table table-hover ps-table">
                                <thead>
                                    <tr>
                                        <th>Order #</th>
                                        <th>Billing</th>
                                        <th>Phone</th>
                                        <th>Order Total</th>
                                        <th>Date</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {% if orders %}
                                        {% for order in orders %}
                                        <tr>
                                            <td>
                                                <a href="{% url 'order_detail' order.order_number %}" class="ps-link">
                                                    {{ order.order_number }}
                                                </a>
                                            </td>
                                            <td>{{ order.full_name }}</td>
                                            <td>{{ order.phone_number }}</td>
                                            <td class="fw-bold text-success">â‚¹{{ order.order_total }}</td>
                                            <td>{{ order.created_at|date:"M d, Y" }}</td>
                                        </tr>
                                        {% endfor %}
                                    {% else %}
                                        <tr>
                                            <td colspan="5" class="text-center text-muted">
                                                No orders found.
                                            </td>
                                        </tr>
                                    {% endif %}
                                </tbody>
                            </table>
                        </div>
                    </div>
                </article>
            </main>
        </div>
    </div>
</section>

<style>
:root {
  --primary-blue: #3b4cca;
  --highlight-yellow: #ffcb05;
  --card-bg: #ffffff;
  --section-bg: #f5f7fb;
  --text-dark: #1b1b1f;
  --shadow: 0 6px 20px rgba(0,0,0,0.12);
}

/* Background Wrapper */
.ps-dash-wrap {
  background: var(--section-bg);
  padding: 30px 0;
}

/* Card */
.ps-dash-card {
  border: none;
  border-radius: 16px;
  overflow: hidden;
  box-shadow: var(--shadow);
  background: var(--card-bg);
  transition: transform 0.2s ease;
}
.ps-dash-card:hover {
  transform: translateY(-2px);
}

/* Header */
.ps-dash-header {
  background: var(--primary-blue);
  color: var(--highlight-yellow);
  padding: 18px 25px;
}
.ps-dash-title {
  margin: 0;
  font-weight: 700;
  font-size: 1.2rem;
  font-family: 'Poppins', sans-serif;
}

/* Body */
.ps-dash-body {
  padding: 25px;
}

/* Table Styling */
.ps-table thead th {
  background-color: var(--highlight-yellow);
  color: var(--primary-blue);
  font-weight: 700;
  border: none;
}
.ps-table tbody tr {
  transition: background 0.2s ease;
}
.ps-table tbody tr:hover {
  background: rgba(59,76,202,0.05);
}
.ps-table td, .ps-table th {
  vertical-align: middle;
  font-size: 0.95rem;
  color: var(--text-dark);
}

/* Link */
.ps-link {
  color: var(--primary-blue);
  font-weight: 600;
  text-decoration: none;
}
.ps-link:hover {
  text-decoration: underline;
}
</style>
{% endblock %}
